{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MikaS%C3%A4rkioja/Documents/Ty%C3%B6kansio/Cursor/SaunaReservation/src/app/actions/create-booking.ts"],"sourcesContent":["'use server';\r\n\r\nimport prisma from '../../lib/prisma';\r\nimport { stripe } from '../../lib/stripe';\r\nimport { calculateSaunaPrice, PricingError } from '../../lib/pricing';\r\nimport { BookingStatus } from '@prisma/client';\r\n\r\n/**\r\n * Interface for the booking request payload\r\n */\r\ninterface CreateBookingRequest {\r\n  userEmail: string;\r\n  userName?: string;\r\n  startTime: string; // ISO string\r\n  endTime: string;   // ISO string\r\n}\r\n\r\n/**\r\n * Interface for the server action response\r\n */\r\ninterface CreateBookingResponse {\r\n  success: boolean;\r\n  url?: string;\r\n  error?: string;\r\n}\r\n\r\n/**\r\n * Server Action to create a sauna booking.\r\n * \r\n * Flow:\r\n * 1. Validate inputs and calculate price.\r\n * 2. Check for availability (concurrency handling).\r\n * 3. Create PENDING booking in DB.\r\n * 4. Create Stripe Checkout Session.\r\n * 5. Update booking with Stripe Session ID.\r\n * 6. Return Stripe URL.\r\n */\r\nexport async function createBooking(data: CreateBookingRequest): Promise<CreateBookingResponse> {\r\n  try {\r\n    const start = new Date(data.startTime);\r\n    const end = new Date(data.endTime);\r\n    const { userEmail, userName } = data;\r\n\r\n    // 1. Basic Validation\r\n    if (!userEmail) {\r\n      throw new Error('User email is required.');\r\n    }\r\n    \r\n    // Validate dates and calculate price\r\n    // This throws PricingError if invalid\r\n    const priceInCents = calculateSaunaPrice(start, end);\r\n\r\n    // 2. Availability Check & Reservation (Concurrency Handling)\r\n    // \r\n    // CONCURRENCY EXPLANATION:\r\n    // The \"Check-Then-Act\" race condition occurs when two requests check for availability \r\n    // at the same time, both see the slot as free, and both insert a booking.\r\n    //\r\n    // To solve this in a robust production environment, we have a few options:\r\n    // A) Postgres Exclusion Constraints: Add a constraint to the DB to physically prevent overlapping time ranges (best).\r\n    // B) Serializable Transactions: Run the transaction with 'Serializable' isolation level.\r\n    // C) Table Locking: Lock the table (bad for performance).\r\n    //\r\n    // Here, we use a Prisma transaction to group the check and the insert. \r\n    // Ideally, we would use `isolationLevel: 'Serializable'`, but that requires retry logic as serialization failures are expected.\r\n    // For this scaffold, we perform a check for overlapping bookings within the transaction. \r\n    // Note: Without Serializable isolation or Exclusion constraints, a race condition is still theoretically possible \r\n    // if the DB isolation level is Read Committed (default).\r\n    \r\n    const booking = await prisma.$transaction(async (tx) => {\r\n      // Check for overlapping bookings that are NOT failed/cancelled\r\n      // Overlap logic: (StartA < EndB) and (EndA > StartB)\r\n      const existingBooking = await tx.booking.findFirst({\r\n        where: {\r\n          AND: [\r\n            { startTime: { lt: end } },\r\n            { endTime: { gt: start } },\r\n            {\r\n              status: {\r\n                in: [BookingStatus.PENDING, BookingStatus.PAID],\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      });\r\n\r\n      if (existingBooking) {\r\n        throw new Error('The selected time slot is already booked.');\r\n      }\r\n\r\n      // Create PENDING booking\r\n      return tx.booking.create({\r\n        data: {\r\n          userEmail,\r\n          userName,\r\n          startTime: start,\r\n          endTime: end,\r\n          totalPrice: priceInCents,\r\n          status: BookingStatus.PENDING,\r\n        },\r\n      });\r\n    });\r\n\r\n    // 3. Create Stripe Checkout Session\r\n    // We do this AFTER creating the booking record so we have the ID.\r\n    // If Stripe fails, the PENDING booking will eventually need to be cleaned up (e.g. cron job or webhook expiry).\r\n    const session = await stripe.checkout.sessions.create({\r\n      payment_method_types: ['card'],\r\n      line_items: [\r\n        {\r\n          price_data: {\r\n            currency: 'eur',\r\n            product_data: {\r\n              name: 'Sauna Reservation',\r\n              description: `${start.toLocaleString()} - ${end.toLocaleString()}`,\r\n            },\r\n            unit_amount: priceInCents,\r\n          },\r\n          quantity: 1,\r\n        },\r\n      ],\r\n      mode: 'payment',\r\n      success_url: `${process.env.NEXT_PUBLIC_APP_URL}/success?session_id={CHECKOUT_SESSION_ID}`,\r\n      cancel_url: `${process.env.NEXT_PUBLIC_APP_URL}/cancel`,\r\n      metadata: {\r\n        bookingId: booking.id, // Critical: Link Stripe session to our Booking\r\n      },\r\n      customer_email: userEmail,\r\n    });\r\n\r\n    if (!session.url) {\r\n      throw new Error('Failed to create Stripe session URL.');\r\n    }\r\n\r\n    // 4. Update booking with Stripe Session ID\r\n    // This allows us to look up the booking when the Stripe Webhook fires.\r\n    await prisma.booking.update({\r\n      where: { id: booking.id },\r\n      data: { stripeSessionId: session.id },\r\n    });\r\n\r\n    return { success: true, url: session.url };\r\n\r\n  } catch (error) {\r\n    console.error('Create Booking Error:', error);\r\n    \r\n    // Distinguish expected validation errors from system errors\r\n    if (error instanceof PricingError) {\r\n       return { success: false, error: error.message };\r\n    }\r\n    \r\n    // Return a generic error for safety, or specific if it's an expected \"Slot taken\" error\r\n    const message = error instanceof Error ? error.message : 'An unexpected error occurred.';\r\n    return { success: false, error: message };\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;IAqCsB,gBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MikaS%C3%A4rkioja/Documents/Ty%C3%B6kansio/Cursor/SaunaReservation/src/lib/pricing.ts"],"sourcesContent":["export const PRICING_PER_30_MINS_CENTS = 1000; // 10.00€\r\nexport const MIN_DURATION_MINUTES = 60;\r\n\r\nexport class PricingError extends Error {\r\n  constructor(message: string) {\r\n    super(message);\r\n    this.name = 'PricingError';\r\n  }\r\n}\r\n\r\n/**\r\n * Calculates the sauna reservation price based on start and end time.\r\n * \r\n * Rules:\r\n * - Minimum reservation is 1 hour.\r\n * - Pricing is 10€ per 30-minute block.\r\n * - Duration must be a multiple of 30 minutes.\r\n * \r\n * @param start Start date of the reservation\r\n * @param end End date of the reservation\r\n * @returns Price in cents\r\n * @throws PricingError if validation fails\r\n */\r\nexport function calculateSaunaPrice(start: Date, end: Date): number {\r\n  const startTime = start.getTime();\r\n  const endTime = end.getTime();\r\n\r\n  if (endTime <= startTime) {\r\n    throw new PricingError('End time must be after start time.');\r\n  }\r\n\r\n  const durationMs = endTime - startTime;\r\n  const durationMinutes = durationMs / (1000 * 60);\r\n\r\n  // 1. Validate minimum duration\r\n  if (durationMinutes < MIN_DURATION_MINUTES) {\r\n    throw new PricingError(`Minimum reservation time is ${MIN_DURATION_MINUTES / 60} hour(s).`);\r\n  }\r\n\r\n  // 2. Validate 30-minute blocks\r\n  if (durationMinutes % 30 !== 0) {\r\n    throw new PricingError('Reservation duration must be in 30-minute increments.');\r\n  }\r\n\r\n  // 3. Calculate price\r\n  const blocks = durationMinutes / 30;\r\n  const priceCents = blocks * PRICING_PER_30_MINS_CENTS;\r\n\r\n  return priceCents;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,4BAA4B,MAAM,SAAS;AACjD,MAAM,uBAAuB;AAE7B,MAAM,qBAAqB;IAChC,YAAY,OAAe,CAAE;QAC3B,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAeO,SAAS,oBAAoB,KAAW,EAAE,GAAS;IACxD,MAAM,YAAY,MAAM,OAAO;IAC/B,MAAM,UAAU,IAAI,OAAO;IAE3B,IAAI,WAAW,WAAW;QACxB,MAAM,IAAI,aAAa;IACzB;IAEA,MAAM,aAAa,UAAU;IAC7B,MAAM,kBAAkB,aAAa,CAAC,OAAO,EAAE;IAE/C,+BAA+B;IAC/B,IAAI,kBAAkB,sBAAsB;QAC1C,MAAM,IAAI,aAAa,CAAC,4BAA4B,EAAE,uBAAuB,GAAG,SAAS,CAAC;IAC5F;IAEA,+BAA+B;IAC/B,IAAI,kBAAkB,OAAO,GAAG;QAC9B,MAAM,IAAI,aAAa;IACzB;IAEA,qBAAqB;IACrB,MAAM,SAAS,kBAAkB;IACjC,MAAM,aAAa,SAAS;IAE5B,OAAO;AACT"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MikaS%C3%A4rkioja/Documents/Ty%C3%B6kansio/Cursor/SaunaReservation/src/components/booking/BookingForm.tsx"],"sourcesContent":["'use client';\r\n\r\n// Fix: Import 'createBooking' but rename it to 'createSaunaCheckout' \r\n// so the rest of your component works without changes.\r\nimport { createBooking as createSaunaCheckout } from '@/app/actions/create-booking';\r\nimport * as React from 'react';\r\nimport { format, addMinutes, isSameDay, startOfToday, parse } from 'date-fns';\r\nimport { DayPicker } from 'react-day-picker';\r\nimport { clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\nimport { Calendar as CalendarIcon, Clock, CheckCircle, AlertCircle } from 'lucide-react';\r\nimport 'react-day-picker/dist/style.css';\r\nimport { PRICING_PER_30_MINS_CENTS, MIN_DURATION_MINUTES } from '@/lib/pricing';\r\n\r\n// --- Types ---\r\ninterface BookingFormProps {\r\n  // We can pass pre-fetched blocked dates/slots here in the future\r\n  blockedDates?: Date[]; \r\n}\r\n\r\n// Dummy data for booked slots to demonstrate logic\r\n// In a real app, this would be fetched based on the selected date\r\nconst DUMMY_BOOKED_SLOTS = [\r\n  '14:00', '14:30', '15:00' // Someone booked 14:00 - 15:30\r\n];\r\n\r\n// Configuration\r\nconst OPENING_HOUR = 10;\r\nconst CLOSING_HOUR = 22;\r\n\r\n/**\r\n * BookingForm Component\r\n * \r\n * Handles the full reservation flow:\r\n * 1. Date Selection\r\n * 2. Start Time Selection\r\n * 3. Duration Selection\r\n * 4. Cost Calculation & Summary\r\n */\r\nexport default function BookingForm({ blockedDates = [] }: BookingFormProps) {\r\n  // --- State ---\r\n  const [selectedDate, setSelectedDate] = React.useState<Date | undefined>(undefined);\r\n  const [startTime, setStartTime] = React.useState<string | null>(null);\r\n  const [durationMinutes, setDurationMinutes] = React.useState<number>(MIN_DURATION_MINUTES); // Default 1 hour\r\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\r\n\r\n  // --- Derived State & Helpers ---\r\n\r\n  // Generate available start times for the selected date\r\n  const timeSlots = React.useMemo(() => {\r\n    if (!selectedDate) return [];\r\n\r\n    const slots: string[] = [];\r\n    const today = startOfToday();\r\n    const isToday = isSameDay(selectedDate, today);\r\n    const now = new Date();\r\n    \r\n    // Iterate from OPENING_HOUR to CLOSING_HOUR - (MIN_DURATION)\r\n    // We stop early because the last booking must be at least MIN_DURATION long.\r\n    // E.g. Closing 22:00, Min 1h -> Last start time 21:00.\r\n    const lastStartHour = CLOSING_HOUR - (MIN_DURATION_MINUTES / 60);\r\n\r\n    for (let hour = OPENING_HOUR; hour <= lastStartHour; hour++) {\r\n      for (let minute = 0; minute < 60; minute += 30) {\r\n        // Skip if this slot would start after the cut-off\r\n        if (hour === lastStartHour && minute > 0) continue;\r\n\r\n        const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\r\n        \r\n        // Filter out past times if date is today\r\n        if (isToday) {\r\n          const slotDate = parse(timeString, 'HH:mm', selectedDate);\r\n          if (slotDate < now) continue;\r\n        }\r\n\r\n        // Filter out booked slots (Dummy Logic)\r\n        if (DUMMY_BOOKED_SLOTS.includes(timeString)) continue;\r\n\r\n        slots.push(timeString);\r\n      }\r\n    }\r\n    return slots;\r\n  }, [selectedDate]);\r\n\r\n  // Generate duration options based on selected start time\r\n  const durationOptions = React.useMemo(() => {\r\n    if (!startTime || !selectedDate) return [];\r\n\r\n    const [startHour, startMinute] = startTime.split(':').map(Number);\r\n    const startTotalMinutes = startHour * 60 + startMinute;\r\n    const closingTotalMinutes = CLOSING_HOUR * 60;\r\n    \r\n    const maxDurationMinutes = closingTotalMinutes - startTotalMinutes;\r\n    \r\n    const options = [];\r\n    // Increment by 30 mins, starting from MIN_DURATION\r\n    for (let d = MIN_DURATION_MINUTES; d <= maxDurationMinutes; d += 30) {\r\n      // Check if this duration overlaps with any booked slots (Simplified check)\r\n      // In a real app, you'd check if the range [startTime, startTime + d] overlaps with existing bookings\r\n      \r\n      const priceEur = (d / 30) * (PRICING_PER_30_MINS_CENTS / 100);\r\n      const hours = Math.floor(d / 60);\r\n      const mins = d % 60;\r\n      const label = `${hours > 0 ? `${hours}h` : ''} ${mins > 0 ? `${mins}m` : ''}`.trim();\r\n\r\n      options.push({\r\n        value: d,\r\n        label: `${label} (${priceEur.toFixed(2)}€)`,\r\n        price: priceEur\r\n      });\r\n    }\r\n    return options;\r\n  }, [startTime, selectedDate]);\r\n\r\n  // Calculate Total Price\r\n  const totalPrice = React.useMemo(() => {\r\n    return (durationMinutes / 30) * (PRICING_PER_30_MINS_CENTS / 100);\r\n  }, [durationMinutes]);\r\n\r\n  // --- Handlers ---\r\n\r\n  const handleDateSelect = (date: Date | undefined) => {\r\n    setSelectedDate(date);\r\n    setStartTime(null); // Reset time when date changes\r\n    setDurationMinutes(MIN_DURATION_MINUTES);\r\n  };\r\n\r\n  const handleTimeSelect = (time: string) => {\r\n    setStartTime(time);\r\n    setDurationMinutes(MIN_DURATION_MINUTES); // Reset duration to min\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!selectedDate || !startTime) return;\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      // 1. Calculate the start and end Date objects\r\n      // \"startTime\" is a string like \"14:30\", we need to combine it with \"selectedDate\"\r\n      const startDateTime = parse(startTime, 'HH:mm', selectedDate);\r\n      const endDateTime = addMinutes(startDateTime, durationMinutes);\r\n\r\n      // 2. Call the Server Action (This runs on the server, creates DB record, and talks to Stripe)\r\n      // We assume you have a hardcoded user email for now, or you can add an input field for it\r\n      const result = await createSaunaCheckout(startDateTime, endDateTime, \"test-user@example.com\");\r\n\r\n      // 3. If we get a URL back, that means Stripe is ready. Go there!\r\n      if (result?.url) {\r\n        window.location.href = result.url;\r\n      } else {\r\n        alert(\"Something went wrong. No payment URL returned.\");\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Failed to create reservation. Please try again.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // --- Render ---\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-4 md:p-6 bg-white rounded-xl shadow-sm border border-stone-200\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n        \r\n        {/* LEFT COLUMN: Calendar */}\r\n        <div className=\"flex flex-col\">\r\n          <h2 className=\"text-xl font-bold text-stone-800 mb-4 flex items-center gap-2\">\r\n            <CalendarIcon className=\"w-5 h-5 text-stone-600\" />\r\n            Select Date\r\n          </h2>\r\n          <div className=\"bg-stone-50/50 p-4 rounded-lg flex justify-center border border-stone-200\">\r\n            <DayPicker\r\n              mode=\"single\"\r\n              selected={selectedDate}\r\n              onSelect={handleDateSelect}\r\n              disabled={[{ before: new Date() }, ...blockedDates]}\r\n              modifiersClassNames={{\r\n                selected: 'bg-stone-800 text-white hover:bg-stone-900',\r\n                today: 'font-bold text-amber-700'\r\n              }}\r\n              className=\"p-0\"\r\n              classNames={{\r\n                day_selected: \"bg-stone-800 text-white hover:bg-stone-800 hover:text-white focus:bg-stone-800 focus:text-white rounded-md\",\r\n                day_today: \"text-amber-700 font-bold\",\r\n                day: \"h-9 w-9 p-0 font-normal aria-selected:opacity-100 hover:bg-stone-100 rounded-md transition-colors\",\r\n                head_cell: \"text-stone-500 rounded-md w-9 font-normal text-[0.8rem]\",\r\n              }}\r\n            />\r\n          </div>\r\n          <p className=\"text-sm text-stone-500 mt-4 text-center\">\r\n            {selectedDate \r\n              ? `Selected: ${format(selectedDate, 'EEEE, MMMM do, yyyy')}`\r\n              : 'Please pick a date to see available times.'}\r\n          </p>\r\n        </div>\r\n\r\n        {/* RIGHT COLUMN: Time & Duration */}\r\n        <div className=\"flex flex-col\">\r\n          <h2 className=\"text-xl font-bold text-stone-800 mb-4 flex items-center gap-2\">\r\n            <Clock className=\"w-5 h-5 text-stone-600\" />\r\n            Select Time\r\n          </h2>\r\n\r\n          {!selectedDate ? (\r\n            <div className=\"flex-1 flex flex-col items-center justify-center text-stone-400 bg-stone-50 rounded-lg border border-dashed border-stone-200 min-h-[300px]\">\r\n              <CalendarIcon className=\"w-12 h-12 mb-2 opacity-20\" />\r\n              <p>Choose a date first</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n              \r\n              {/* Time Slots Grid */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-stone-700 mb-2\">\r\n                  Start Time\r\n                </label>\r\n                {timeSlots.length === 0 ? (\r\n                  <div className=\"text-center p-4 bg-amber-50 text-amber-800 rounded-md border border-amber-100 flex items-center justify-center gap-2\">\r\n                    <AlertCircle className=\"w-4 h-4\" />\r\n                    No slots available for this date.\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar\">\r\n                    {timeSlots.map((time) => (\r\n                      <button\r\n                        key={time}\r\n                        onClick={() => handleTimeSelect(time)}\r\n                        className={clsx(\r\n                          \"py-2 px-1 text-sm rounded-md border transition-all duration-200\",\r\n                          startTime === time\r\n                            ? \"bg-stone-800 text-white border-stone-800 shadow-sm transform scale-105\"\r\n                            : \"bg-white text-stone-600 border-stone-200 hover:border-stone-400 hover:bg-stone-50\"\r\n                        )}\r\n                      >\r\n                        {time}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Duration Selection (Only visible if Start Time selected) */}\r\n              {startTime && (\r\n                <div className=\"animate-in fade-in slide-in-from-top-2 duration-300\">\r\n                  <label className=\"block text-sm font-medium text-stone-700 mb-2\">\r\n                    Duration\r\n                  </label>\r\n                  <select\r\n                    value={durationMinutes}\r\n                    onChange={(e) => setDurationMinutes(Number(e.target.value))}\r\n                    className=\"w-full p-2.5 bg-white border border-stone-300 rounded-md shadow-sm focus:ring-2 focus:ring-stone-500 focus:border-stone-500 outline-none text-stone-700\"\r\n                  >\r\n                    {durationOptions.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  <p className=\"text-xs text-stone-500 mt-1\">\r\n                    Price: 10€ / 30 mins\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n            </div>\r\n          )}\r\n\r\n          {/* Spacer to push summary to bottom */}\r\n          <div className=\"flex-grow\" />\r\n\r\n          {/* Summary Card */}\r\n          {startTime && selectedDate && (\r\n            <div className=\"mt-8 bg-stone-100 text-stone-800 p-6 rounded-xl border border-stone-200 animate-in fade-in slide-in-from-bottom-4\">\r\n              <h3 className=\"text-lg font-semibold mb-4 border-b border-stone-200 pb-2 text-stone-900\">\r\n                Reservation Summary\r\n              </h3>\r\n              \r\n              <div className=\"space-y-2 text-sm text-stone-600 mb-6\">\r\n                <div className=\"flex justify-between\">\r\n                  <span>Date:</span>\r\n                  <span className=\"font-medium text-stone-900\">{format(selectedDate, 'MMM do, yyyy')}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Time:</span>\r\n                  <span className=\"font-medium text-stone-900\">{startTime} - {format(addMinutes(parse(startTime, 'HH:mm', selectedDate), durationMinutes), 'HH:mm')}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Duration:</span>\r\n                  <span className=\"font-medium text-stone-900\">{durationMinutes / 60} hours</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-end justify-between mb-6 border-t border-stone-200 pt-4\">\r\n                <span className=\"text-stone-500\">Total Price</span>\r\n                <span className=\"text-3xl font-bold text-stone-800\">{totalPrice.toFixed(2)}€</span>\r\n              </div>\r\n\r\n              <button\r\n                onClick={handleSubmit}\r\n                disabled={isSubmitting}\r\n                className=\"w-full bg-stone-800 hover:bg-stone-900 text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed shadow-sm\"\r\n              >\r\n                {isSubmitting ? 'Processing...' : (\r\n                  <>\r\n                    Reserve Now\r\n                    <CheckCircle className=\"w-5 h-5\" />\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}